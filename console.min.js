((function(){var a,b,c,d,e;e=this,d=function(a,b,c){a.attachEvent&&a.attachEvent("on"+b,c);if(a.addEventListener)return a.addEventListener(b,c,!1)},window.DIV_CONSOLE="console",a=function(){function a(a){this.info.div=window.DIV_CONSOLE,this.info.divObject=this.response.data.console=document.getElementById(window.DIV_CONSOLE)}return a.prototype.info={status:!0},a.prototype.line=function(){var a,b,c,e,f,g,h;return f=this,e="active_input",h=document.getElementById(e),h&&(h.removeAttribute("id"),h.className="inactive",h.disabled=!0),h=document.createElement("input"),a=document.createElement("div"),b=document.createElement("strong"),c=document.createElement("em"),h.id=e,a.className="dta",g=document.createTextNode(this.info.user+"@"+this.info.site),c.appendChild(document.createTextNode(this.info.dir)),b.appendChild(g),a.appendChild(b),a.appendChild(c),a.appendChild(h),this.info.divObject.appendChild(a),h.focus(),d(this.info.divObject,"click",function(){return h.focus()}),d(h,"keypress",function(a){var b,c,d,e;return c=13,d=a.keyCode?a.keyCode:a.Which,d===c&&(e=document.getElementById("active_input").value,f.send(e)),b=this.value.length===0?10:this.value.length*10,this.style.width=b+"px"})},a.prototype.open=function(){return this.info.divObject.style.display="block",document.getElementById("active_input").focus()},a.prototype.close=function(){return this.info.divObject.style.display="none"},a.prototype.toggle=function(){return this.info.divObject.style.display==="block"||this.info.divObject.style.display===""?this.info.divObject.style.display="none":this.info.divObject.style.display="block"},a.prototype.disable=function(a){return this.info.status=!1,this.info.disabled_txt=a?a:"System is disabled"},a.prototype.enable=function(){return this.info.status=!0},a.prototype.isEnabled=function(){return this.info.status},a.prototype.send=function(a){var b;return b={val:a,values:a.split(" ")},this.default_commands(b)||(this.response.data.last=a,this.response.callback(b)),this.info.status?this.line():(this.response.info(this.info.disabled_txt),this.line(),!1)},a.prototype.response={data:{},callback:function(){},info:function(a){var b;return a=new String(a),b=document.createElement("p"),b.className="info",b.appendChild(document.createTextNode(a)),this.data.console.appendChild(b)},is:function(a){var b,c,d,e,f;if(a instanceof RegExp&&this.data.last.match(a))return!0;if(a instanceof Object){b={"int":/^(?:\+|-)?\d+$/,word:/(?:[a-z][a-z]+)/,command:/-[a-z]+/,string:/"(?:[a-z][a-z]+)"/,email:/[\w-\.]{3,}@([\w-]{2,}\.)*([\w-]{2,}\.)[\w-]{2,4}/},d=this.data.last.split(" ");if(d.length!==a.length)return!1;for(e=0,f=a.length;e<f;e++){c=a[e];if(!d[e].match(b[c]))return!1}return!0}}},a.prototype.onSend=function(a){return this.response.callback=a},a.prototype.commands=["(cd)(\\s+)((?:[a-z][a-z0-9_]*))","(cu)(\\s+)((?:[a-z][a-z0-9_]*))","(cs)(\\s+)((?:[a-z][a-z0-9_]*))","(exit)","clear"],a.prototype.commands_fns=[function(a){return consolecms.info.dir=a.values[1]},function(a){return consolecms.info.user=a.values[1]},function(a){return consolecms.info.site=a.values[1]},function(){return consolecms.close()},function(){return alert("dd")}],a.prototype.default_commands=function(a){var b,c,d,e;if(!this.info.status)return!1;e=this.commands;for(c=0,d=e.length;c<d;c++){b=e[c];if(a.val.match(this.commands[c]))return this.response.data.last=a.val,this.response.values=a.val.split(" "),this.commands_fns[c](this.response),!0}return!1},a.prototype.setCommand=function(a,b){var c;return c=new RegExp(a),this.commands.push(c),this.commands_fns.push(b)},a.prototype.run=function(a){return this.info.user=a.user,this.info.dir=a.dir,this.info.site=a.sitename,this.line()},a}(),b=function(){function a(a,b){var c=this;this.obj=a,this.consoleObj=b,this.consoleObj.style.height=this.data.height+"px",d(this.obj,"mousedown",function(a){var b;b=document.createElement("div"),b.id="shadow",document.getElementsByTagName("body")[0].appendChild(b),c.data.mouse=a.clientY,c.data.status=!0,c.obj.style.background="#FFF",document.onselectstart=function(){return!1};if(!document.onselectstart)return document.onmousedown=function(){return!1}}),d(window,"mouseup",function(a){var b;if(c.data.status)return c.data.height=c.data.height+(c.data.mouse-a.clientY),c.consoleObj.style.height=c.data.height+"px",c.obj.style.background="transparent",document.onselectstart=void 0,document.onmousedown=void 0,b=document.getElementById("shadow"),b.parentNode.removeChild(b),c.data.status=!1}),d(window,"mousemove",function(a){var b;if(c.data.status)return b=document.getElementById("shadow"),b.style.top=a.pageY+"px"})}return a.prototype.data={status:!1,mouse:0,height:400},a}(),c=function(){return function(){var a,c,d,e,f;a=document.getElementById(DIV_CONSOLE);if(a===null)return c=document.createElement("div"),c.id=DIV_CONSOLE,e=document.getElementsByTagName("body"),e[0].insertBefore(c,e[0].childNodes[0]),d=document.createElement("span"),d.id="elastic",document.getElementById(DIV_CONSOLE).appendChild(d),f=new b(d,document.getElementById(DIV_CONSOLE))}(),window.consolecms=new a},window.jQuery?$(document).ready(c):d(window,"load",c)})).call(this);